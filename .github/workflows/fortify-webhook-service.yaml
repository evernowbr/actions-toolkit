name: fortify-webhook-service

on:
  workflow_call:
    inputs:
      projectName:
        required: true
        type: string
      projectId:
        required: true
        type: string
      projectVersionName:
        required: true
        type: string
      projectVersionId:
        required: true
        type: string
      event:
        required: true
        type: string
      filename:
        required: true
        type: string
      triggeredAt:
        required: true
        type: string
      sscUrl:
        required: true
        type: string
      webHookId:
        required: true
        type: string

jobs:
  process_webhook:
    runs-on: ubuntu-latest
    steps:
      - name: Exibir Dados Recebidos do Fortify
        run: |
          echo "ğŸš€ Webhook do Fortify recebido!"
          echo "ğŸ“¦ Projeto: ${{ inputs.projectName }} (ID: ${{ inputs.projectId }})"
          echo "ğŸ”„ VersÃ£o: ${{ inputs.projectVersionName }} (ID: ${{ inputs.projectVersionId }})"
          echo "ğŸ› ï¸ Evento: ${{ inputs.event }}"
          echo "ğŸ“‚ Arquivo: ${{ inputs.filename }}"
          echo "ğŸ“… Data do Evento: ${{ inputs.triggeredAt }}"
          echo "ğŸ”— Fortify SSC URL: ${{ inputs.sscUrl }}"
          echo "ğŸ†” Webhook ID: ${{ inputs.webHookId }}"
